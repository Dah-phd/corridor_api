(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),c=(n(2),n(1));const r=Object(o.h)('<div class="systen_msg"><hr><h3></h3><button class="std_btn">Ok</button><hr></div>',8),s=Object(o.h)('<div class="covering-panel"></div>',2),[i,l]=Object(c.h)(void 0);function a(){return[(()=>{const e=r.cloneNode(!0),t=e.firstChild.nextSibling,n=t.nextSibling;return Object(o.c)(t,i),n.$$click=()=>l(void 0),e})(),s.cloneNode(!0)]}Object(o.b)(["click"]);const[d,u]=Object(c.h)(void 0),[b,h]=Object(c.h)(f());function v(e,t){localStorage.setItem("userName",e),h(e),t&&u(t)}function g(e,t){switch(e){case"NameTooShort":l("Name should be at least 4 characters long!");break;case"PlayerExists":l("Username already taken!");break;case"UserNotFound":l("Unable to verify user, please try again!");break;case"UnsupportedSymbolInPass":l("Password can contain capital and small letters, digits and [-_.,]!");break;case"PassTooShort":l("Password too short!");break;case"UnsupportedSymbol":l("Name contains unsupported symbols!");break;case"EmailTaken":l("User with that email already exists!");break;case"EmailNotValid":l("This is not a valid e-mail!");break;default:t(e.Ok)}}function f(){return localStorage.getItem("userName")||p(),localStorage.getItem("userName")}function p(e){fetch("/auth/get_username").then(e=>e.json()).then(t=>{t.Guest?v(t.Guest,"guest"):t.User&&(v(t.User[0],"user"),void 0!==e&&e(t.User[1]))}).catch(console.log)}const m=Object(o.h)('<div class="systen_msg"><p>Username: </p><p><input type="email"></p><p><button class="std_btn">Update Email</button></p><p><input type="password" placeholder="Password"></p><p><input type="password" placeholder="Repeat password"></p><p><button class="std_btn">Update Password</button></p></div>',21),O=Object(o.h)('<div class="covering-panel"></div>',2),[j,_]=Object(c.h)(!1);function w(){if("user"!=localStorage.getItem("userType"))return void l("User profile does not exist!\nPlease login and try again!");let e,t,n;const[r,s]=Object(c.h)("");p(s);const i=(e,t)=>{e==t?function(e){e.length>72?l("Password too long!"):fetch("/auth/update_pass",{method:"put",body:JSON.stringify({user:f(),password:e,email:""})}).then(e=>e.json()).then(e=>g(e,e=>l("Password is changed!"))).catch(console.log)}(e):l("Passwords are not indentical!")};return[(()=>{const l=m.cloneNode(!0),a=l.firstChild,d=(a.firstChild,a.nextSibling),u=d.firstChild,b=d.nextSibling,h=b.firstChild,v=b.nextSibling,p=v.firstChild,O=v.nextSibling,j=O.firstChild,_=O.nextSibling.firstChild;Object(o.c)(a,f,null);"function"===typeof n?n(u):n=u,h.$$click=()=>function(e,t){fetch("/auth/update_email",{method:"put",body:JSON.stringify({user:f(),password:"",email:e})}).then(e=>e.json()).then(n=>g(n,n=>{t(e)})).catch(console.log)}(n.value,s);"function"===typeof e?e(p):e=p;return"function"===typeof t?t(j):t=j,_.$$click=()=>{i(e.value,t.value)},Object(c.f)(()=>Object(o.f)(u,"placeholder",r())),l})(),O.cloneNode(!0)]}Object(o.b)(["click"]);const y=Object(o.h)("<button></button>",2),S=Object(o.h)('<nav><div class="nav_block"><div class="box"></div><div class="box"></div></div><div class="image_nav"></div><div class="nav_block"><div class="box"></div><div class="box"></div></div></nav>',16);function k(e){return(()=>{const t=y.cloneNode(!0);return t.$$click=()=>e.click(),Object(o.c)(t,()=>e.text),Object(c.f)(n=>{const c=e.style,r=e.class?e.class:"std_btn",s=e.disabled;return n._v$=Object(o.g)(t,c,n._v$),r!==n._v$2&&Object(o.a)(t,n._v$2=r),s!==n._v$3&&(t.disabled=n._v$3=s),n},{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()}function x(e){const t=f();return(()=>{const n=S.cloneNode(!0),r=n.firstChild,s=r.firstChild,i=s.nextSibling,l=r.nextSibling.nextSibling.firstChild,a=l.nextSibling;return Object(o.c)(s,t?Object(c.d)(k,{text:t,click:()=>_(!0)}):[]),Object(o.c)(i,(()=>{const t=Object(o.d)(()=>!e.left,!0);return()=>t()?[]:Object(c.d)(k,Object(c.j)(()=>e.left))})()),Object(o.c)(l,t?Object(c.d)(k,{text:"Logout",click:()=>(fetch("/auth/logout").catch(console.log),h(null),localStorage.clear(),void location.reload())}):[]),Object(o.c)(a,(()=>{const t=Object(o.d)(()=>!e.right,!0);return()=>t()?[]:Object(c.d)(k,Object(c.j)(()=>e.right))})()),n})()}Object(o.b)(["click"]);const N=Object(o.h)('<div style="flex-basis: 50%;"><h1>Sign In:</h1><div><p><input type="text" placeholder="Username"></p><p><input type="password" placeholder="Password"></p><p><button class="std_btn">Login</button></p></div></div>',16),$=Object(o.h)('<div style="flex-basis: 50%;"><h1>Sign In as Guest</h1><div><p><input type="text" placeholder="Username"></p><p><button class="std_btn">Register as Guest:</button></p></div></div>',13),C=Object(o.h)('<div style="flex-basis: 50%;"><h1>Create New Account:</h1><div><p><input type="text" placeholder="Username"></p><p><input type="password" placeholder="Password"></p><p><input type="password" placeholder="Repeat password"></p><p><input type="email" placeholder="Email"></p><p><button class="std_btn">Register User</button></p></div></div>',22);function I(){let e,t;function n(){!function(e,t){fetch("/auth/login",{method:"post",body:JSON.stringify({User:[e,t]})}).then(e=>e.json()).then(e=>{g(e,e=>v(e,"user"))}).catch(console.log)}(e.value,t.value),t.value=null}return(()=>{const o=N.cloneNode(!0),c=o.firstChild.nextSibling.firstChild,r=c.firstChild,s=c.nextSibling,i=s.firstChild,l=s.nextSibling.firstChild;o.addEventListener("keypress",e=>{"Enter"==e.key&&n()});"function"===typeof e?e(r):e=r;return"function"===typeof t?t(i):t=i,l.$$click=n,o})()}function E(){let e;function t(){!function(e){fetch("/auth/login",{method:"post",body:JSON.stringify({Guest:e})}).then(e=>e.json()).then(e=>{g(e,e=>v(e,"guest"))}).catch(console.log)}(e.value),e.value=null}return(()=>{const n=$.cloneNode(!0),o=n.firstChild.nextSibling.firstChild,c=o.firstChild,r=o.nextSibling.firstChild;n.addEventListener("keypress",e=>{"Enter"==e.key&&t()});return"function"===typeof e?e(c):e=c,r.$$click=t,n})()}function U(){let e,t,n,o;function c(){if(t.value!=n.value)return alert("Passwords do not match!");!function(e,t,n){t.length>72?l("Password too long!"):fetch("/auth/register",{method:"post",body:JSON.stringify({user:e,password:t,email:n})}).then(e=>e.json()).then(e=>{g(e,e=>v(e,"user"))}).catch(console.log)}(e.value,t.value,o.value),[e,t,n,o].forEach(e=>e.value=null)}return(()=>{const r=C.cloneNode(!0),s=r.firstChild.nextSibling.firstChild,i=s.firstChild,l=s.nextSibling,a=l.firstChild,d=l.nextSibling,u=d.firstChild,b=d.nextSibling,h=b.firstChild,v=b.nextSibling.firstChild;r.addEventListener("keypress",e=>{"Enter"==e.key&&c()});"function"===typeof e?e(i):e=i;"function"===typeof t?t(a):t=a;"function"===typeof n?n(u):n=u;return"function"===typeof o?o(h):o=h,v.$$click=c,r})()}function P(){return[Object(c.d)(I,{}),Object(c.d)(E,{})]}function L(){return[Object(c.d)(U,{}),Object(c.d)(E,{})]}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object(o.b)(["click"]);class Q{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;J(this,"status",void 0),J(this,"uri",void 0),J(this,"event_src",void 0),J(this,"callback",void 0),J(this,"retry",void 0),this.uri=e,this.event_src=new EventSource(e),this.callback=t,this.retry=n,this.status=!1,this.connect()}kill(){this.event_src.close()}connect(){this.event_src.addEventListener("message",e=>{this.callback(JSON.parse(e.data),this)}),this.event_src.addEventListener("open",()=>{this.status=!0,console.log("connected to event stream at "+this.uri)}),this.event_src.addEventListener("error",()=>{this.status=!1,this.event_src.close();let e=this.retry;this.retry=Math.min(64,2*this.retry),console.log("connection lost. attempting to reconnect in ".concat(e,"s")),setTimeout(()=>{this.event_src=new EventSource(this.uri),this.connect()},1e3*e)})}}const W=Object(o.h)('<div class="chat_wrapper"><div class="chat_box"></div></div>',4),z=Object(o.h)('<p class="msg_own"> <span class="msg_own"></span></p>',4),A=Object(o.h)('<p class="msg"><span class="msg"></span></p>',4),B=Object(o.h)('<p class="msg_user"><span class="msg_user"> <span style="font-size:small;">From: </span></span></p>',6),T=Object(o.h)('<div class="send_msg"><input type="text" class="send_msg_box"><div class="send_msg_btn"></div></div>',5),[G,R]=Object(c.h)(0),[M,V]=Object(c.h)(null),[H,F]=Object(c.h)(!1);function q(e){const t=localStorage.getItem(ce);if(!t)return;const n="chat_".concat(JSON.stringify(t)),o=function(e){const t=sessionStorage.getItem(e);return t?JSON.parse(t):[]}(n);return e&&o.push(e),sessionStorage.setItem(n,JSON.stringify(o)),o}const[D,K]=Object(c.h)("");function X(e){let t;return(()=>{const n=W.cloneNode(!0),r=n.firstChild;return"function"===typeof t?t(r):t=r,Object(o.c)(r,Object(c.d)(c.a,{get each(){return q(e.new_msg)},children:e=>{const t=Object(c.d)(Y,{get msg_sender(){return e.player},get msg(){return e.msg}});return K(e.player),t}})),Object(o.c)(n,Object(c.d)(Z,{callback:()=>{!function(e){if(!e)return;e.scrollTop=e.scrollHeight}(t)}}),null),Object(c.f)(e=>Object(o.g)(n,H()?"":"display:none;",e)),n})()}function Y(e){return b()==e.msg_sender?(()=>{const t=z.cloneNode(!0),n=t.firstChild.nextSibling;return Object(o.c)(n,()=>e.msg),t})():D()==e.msg_sender?(()=>{const t=A.cloneNode(!0),n=t.firstChild;return Object(o.c)(n,()=>e.msg),t})():[(()=>{const t=B.cloneNode(!0),n=t.firstChild;n.firstChild.nextSibling;return Object(o.c)(n,()=>e.msg_sender,null),t})(),(()=>{const t=A.cloneNode(!0),n=t.firstChild;return Object(o.c)(n,()=>e.msg),t})()]}function Z(e){let t;const n=()=>{var n;t.value&&(n=t.value,fetch("/chat/sender",{method:"post",body:JSON.stringify({id:{MatchID:localStorage.getItem("activeChat")},msg:n,player:b()})})),t.value=null,e.callback()};return(()=>{const e=T.cloneNode(!0),o=e.firstChild,c=o.nextSibling;e.addEventListener("keypress",e=>{"Enter"==e.key&&n()});return"function"===typeof t?t(o):t=o,c.$$click=n,e})()}Object(o.b)(["click"]);function ee(){const e=localStorage.getItem(ce);e&&(localStorage.setItem("activeChat",e),new Q("/game_chat/<owner>".replace("<owner>",e),oe))}const[te,ne]=Object(c.h)(null);function oe(e,t){V(e),H()||R(G()+1),ne(t)}const ce="active_game";function re(e,t){localStorage.setItem(ce,e),ee(),le(t),new Q("/game_events/<owner>".replace("<owner>",e),(e,n)=>{ie(e,n,t)})}function se(){const e=sessionStorage.getItem("stateBackupTimeout");null!=e&&window.clearInterval(Number(e))}function ie(e,t,n){n(e),function(e,t){if(e&&e.ActiveQuoridor&&e.ActiveQuoridor.winner)return function(e,t){var n;alert("GAME OVER!\nWINNER IS ".concat(null===e||void 0===e||null===(n=e.ActiveQuoridor)||void 0===n?void 0:n.winner)),localStorage.removeItem(ce),t(null);const o=te();null===o||void 0===o||o.kill(),sessionStorage.removeItem("activeChat")}(e,t),!0;return!1}(e,n)&&(null===t||void 0===t||t.kill())}function le(e){const t=localStorage.getItem(ce);t&&f()&&fetch("/game_state/<owner>".replace("<owner>",t)).then(e=>e.json()).then(t=>ie(t,void 0,e)).catch(console.log)}function ae(e,t,n){const o=[];for(let c in n.horizontal_walls){let r=n.horizontal_walls[c];r[1]!=t&&r[1]!=t-1||(r[0]==e&&o.push(" bottom_red"),r[0]==e-1&&o.push(" top_red"))}for(let c in n.vertical_walls){let r=n.vertical_walls[c];r[0]!=e&&r[0]!=e-1||(r[1]==t&&o.push(" right_red"),r[1]==t-1&&o.push(" left_red"))}return o.join(" ")}function de(e){fetch("/active_lobbies").then(e=>e.json()).then(t=>{t&&e(t)}).catch(console.log)}function ue(e,t){new Q("/lobby_events/<owner>".replace("<owner>",e),(e,n)=>{e&&e.game_started&&(localStorage.removeItem("activeLobby"),Ae(!1),n.kill(),re(e.game_started,t))})}const be=Object(o.h)('<div class="lobby_struct"> | </div>',2),he=Object(o.h)('<div class="lobbies"></div>',2);function ve(){const e=sessionStorage.getItem("lobbyInterval");window.clearInterval(Number(e))}function ge(e){return(()=>{const t=be.cloneNode(!0),n=t.firstChild;return t.$$click=()=>{var t,n;t=e.lobby.owner,n=e.gameSetter,fetch("/join/<owner>".replace("<owner>",t)).then(e=>e.json()).then(e=>{e&&(console.log(e),re(e,n))}).catch(console.log)},Object(o.c)(t,()=>e.lobby.match_type,n),Object(o.c)(t,()=>e.lobby.owner,null),t})()}function fe(e){const[t,n]=Object(c.h)([]);var r;return r=n,sessionStorage.setItem("lobbyInterval",window.setInterval(()=>{de(r)},1e4).toString()),Object(c.k)(ve),de(n),(()=>{const n=he.cloneNode(!0);return Object(o.c)(n,Object(c.d)(c.a,{get each(){return t()},children:t=>Object(c.d)(ge,{lobby:t,get gameSetter(){return e.gameSetter}})})),n})()}Object(o.b)(["click"]);const pe=Object(o.h)("<div></div>",2),me=Object(o.h)('<div class="row"></div>',2),Oe=Object(o.h)('<div class="full_screen_centered"><div class="quoridor"><h1> (<!>)</h1><div></div><h1> (<!>)</h1><div class="box"><button class="std_btn">PlayerMove</button><button class="std_btn">Horizontal Border</button><button class="std_btn">Vertical Border</button></div></div></div>',20),je=[0,1,2,3,4,5,6,7,8],_e={move:function(e,t,n){return console.log(e,t,"m"),{QuoridorMove:[[e,t],n]}},hW:function(e,t,n){return console.log(e,t,"h"),{QuoridorWallH:[[e,t],n]}},vW:function(e,t,n){return console.log(e,t,"v"),{QuoridorWallV:[[e,t],n]}}},[we,ye]=Object(c.h)("move"),Se=new RegExp("wall_bot|wall_top|wall_left|wall_right");function ke(e,t,n){const o=document.getElementById("".concat(e).concat(t));o&&(o.className="".concat(o.className," ").concat(n))}function xe(e){return(()=>{const t=pe.cloneNode(!0);return t.addEventListener("mouseleave",()=>{"move"!==we()&&function(e,t){if("move"===we())return;const n=[[e,t],[e,t+1],[e+1,t],[e+1,t+1]];for(const o in n){const e=document.getElementById("".concat(n[o][0]).concat(n[o][1]));e&&(e.className=e.className.replace(Se,""))}}(e.row,e.column)}),t.addEventListener("mouseenter",()=>{"move"!==we()&&function(e,t,n){const o=we();"hW"===o&&function(e,t,n){if(8==e||8==t)return!1;for(const o in n.vertical_walls){const c=n.vertical_walls[o];if(c[0]==e&&c[1]==t)return!1}for(const o in n.horizontal_walls){const c=n.horizontal_walls[o];if(c[0]==e){if(c[1]==t)return!1;if(c[1]==t+1)return!1;if(c[1]==t-1)return!1}}return!0}(e,t,n.game)&&(ke(e,t,"wall_bot"),ke(e,t+1,"wall_bot"),ke(e+1,t,"wall_top"),ke(e+1,t+1,"wall_top")),"vW"===o&&function(e,t,n){if(8==e||8==t)return!1;for(const o in n.horizontal_walls){const c=n.horizontal_walls[o];if(c[0]==e&&c[1]==t)return!1}for(const o in n.vertical_walls){const c=n.vertical_walls[o];if(c[1]==t){if(c[0]==e)return!1;if(c[0]==e+1)return!1;if(c[0]==e-1)return!1}}return!0}(e,t,n.game)&&(ke(e,t,"wall_right"),ke(e+1,t,"wall_right"),ke(e,t+1,"wall_left"),ke(e+1,t+1,"wall_left"))}(e.row,e.column,e.session)}),t.$$click=()=>function(e,t,n,o){const c=f(),r=localStorage.getItem(ce);if(!c||n.current!=c||!r)return;const s="/move/<owner>".replace("<owner>",r);fetch(s,{method:"post",body:JSON.stringify(o(e,t,c))}).then(e=>e.json()).then(console.log).catch(alert)}(e.row,e.column,e.session,_e[we()]),Object(o.c)(t,()=>{return t=e.row,n=e.column,(o=e.session.game).up_player[0]==t&&o.up_player[1]==n?"\u{1f980}":o.down_player[0]==t&&o.down_player[1]==n?"\u{1f40d}":void 0;var t,n,o}),Object(c.f)(n=>{const c=function(e,t,n){const o=[ae(e,t,n.game)];return"move"==we()&&o.push(function(e,t,n){const o=n.up_player==n.current?n.game.up_player:n.game.down_player;return o[0]==e&&o[1]==t?"player_move_blocked":o&&function(e,t,n){return e==n[0]&&(t==n[1]-1||t==n[1]+1)||t==n[1]&&(e==n[0]-1||e==n[0]+1)}(e,t,o)?function(e,t,n,o){if(e==n[0]){const c=t>n[1]?n[1]:t;for(let t in o.vertical_walls){const n=o.vertical_walls[t];if(c==n[1]&&(e==n[0]||e-1==n[0]))return!0}}if(t==n[1]){const c=e>n[0]?n[0]:e;for(let e in o.horizontal_walls){const n=o.horizontal_walls[e];if(c==n[0]&&(t==n[1]||t-1==n[1]))return!0}}return!1}(e,t,o,n.game)?"player_move_blocked":"player_move":""}(e,t,n)),"tile"+o.join(" ")}(e.row,e.column,e.session),r="".concat(e.row).concat(e.column);return c!==n._v$&&Object(o.a)(t,n._v$=c),r!==n._v$2&&Object(o.f)(t,"id",n._v$2=r),n},{_v$:void 0,_v$2:void 0}),t})()}function Ne(e){return(()=>{const t=me.cloneNode(!0);return Object(o.c)(t,Object(c.d)(c.a,{each:je,children:t=>Object(c.d)(xe,{column:t,get row(){return e.row},get session(){return e.game}})})),t})()}function $e(e){function t(t){return e.session.current==t?"color:red":""}return(()=>{const n=Oe.cloneNode(!0),r=n.firstChild.firstChild,s=r.firstChild,i=s.nextSibling,l=(i.nextSibling,r.nextSibling),a=l.nextSibling,d=a.firstChild,u=d.nextSibling,b=(u.nextSibling,a.nextSibling.firstChild),h=b.nextSibling,v=h.nextSibling;return Object(o.c)(r,()=>e.session.up_player,s),Object(o.c)(r,()=>e.session.game.up_player_free_walls,i),Object(o.c)(l,Object(c.d)(c.a,{each:je,children:t=>Object(c.d)(Ne,{row:t,get game(){return e.session}})})),Object(o.c)(a,()=>e.session.down_player,d),Object(o.c)(a,()=>e.session.game.down_player_free_walls,u),b.$$click=()=>ye("move"),h.$$click=()=>ye("hW"),v.$$click=()=>ye("vW"),Object(c.f)(c=>{const s=H()?"display:none;":"",i=t(e.session.up_player),l=t(e.session.down_player),d="move"===we()?"color:red;":"",u="hW"===we()?"color:red;":"",g="vW"===we()?"color:red;":"";return c._v$3=Object(o.g)(n,s,c._v$3),c._v$4=Object(o.g)(r,i,c._v$4),c._v$5=Object(o.g)(a,l,c._v$5),c._v$6=Object(o.g)(b,d,c._v$6),c._v$7=Object(o.g)(h,u,c._v$7),c._v$8=Object(o.g)(v,g,c._v$8),c},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),n})()}Object(o.b)(["click"]);const Ce=Object(o.h)('<div class="full_screen_centered"><div class="form_container"></div></div>',4),Ie=Object(o.h)('<div class="covering-panel"><div class="spin"></div></div>',4),Ee=Object(o.h)("<h1>Looking for opponent ...</h1>",2),Ue=Object(o.h)("<hr>",1),Pe=Object(o.h)("<h3>Press Esc to cancel</h3>",2),Le=Object(o.h)('<div class="full_screen_centered"></div>',2);function Je(){const[e,t]=Object(c.h)(!0),[n,r]=Object(c.h)(!1);return[Object(c.d)(x,{left:{text:"Sign In",click:()=>{t(!e()),r(!1)}},right:{text:"Create New Account",click:()=>{t(!1),r(!n())}}}),(()=>{const t=Ce.cloneNode(!0),r=t.firstChild;return Object(o.c)(r,Object(c.d)(c.c,{get children(){return[Object(c.d)(c.b,{get when(){return e()},get children(){return Object(c.d)(P,{})}}),Object(c.d)(c.b,{get when(){return n()},get children(){return Object(c.d)(L,{})}})]}})),t})()]}const[Qe,We]=Object(c.h)(null),[ze,Ae]=Object(c.h)(!1);function Be(){function e(){function e(e){"Escape"===e.key&&function(){const e={owner:f(),game:"Unknown"};fetch("/create_lobby",{method:"post",body:JSON.stringify(e)}).then(e=>{localStorage.removeItem("activeLobby"),Ae(!1)}).catch(e=>{localStorage.removeItem("activeLobby"),Ae(!1),console.log(e)})}()}return Object(c.l)(()=>{document.addEventListener("keydown",e)}),Object(c.k)(()=>{document.removeEventListener("keydown",e)}),[Ie.cloneNode(!0),Object(c.d)(x,{}),Ee.cloneNode(!0),Ue.cloneNode(!0),Pe.cloneNode(!0)]}return Object(c.d)(c.c,{get children(){return[Object(c.d)(c.b,{get when(){return ze()},get children(){return Object(c.d)(e,{})}}),Object(c.d)(c.b,{get when(){return!ze()},get children(){return[Object(c.d)(x,{left:{text:"Game VS CPU",click:()=>{var e;e=We,fetch("/join/<owner>".replace("<owner>","|QCPU|")).then(e=>e.json()).then(t=>{t&&re(t,e)}).catch(console.log)}},get right(){return{text:"Create Lobby",click:()=>{!function(e){const t={owner:f(),game:"Quoridor"};fetch("/create_lobby",{method:"post",body:JSON.stringify(t)}).then(e=>e.json()).then(t=>{t?(localStorage.setItem("activeLobby",t),Ae(!0),ue(t,e)):alert("Only registered users, can create lobbies!")}).catch(console.log)}(We)},disabled:"guest"==d()}}}),(()=>{const e=Le.cloneNode(!0);return Object(o.c)(e,Object(c.d)(fe,{gameSetter:We})),e})()]}})]}})}function Te(){return[Object(c.d)(x,{right:{text:"Concede",style:"color:red;",click:()=>{!function(){const e=f(),t=localStorage.getItem(ce);if(!e||!t)return;const n="/move/<owner>".replace("<owner>",t);fetch(n,{method:"post",body:JSON.stringify({Concede:e})})}()}},get left(){return Object(o.d)(()=>{var e,t;return"|QCPU|"==(null===(e=Qe())||void 0===e||null===(t=e.ActiveQuoridor)||void 0===t?void 0:t.down_player)},!0)()?void 0:{text:H()?"Back to Game":"Open Chat ".concat(G()?G():""),style:G()?"color: red;":"",click:()=>{F(!H()),H()&&R(0)}}}}),Object(c.d)((function(e){if(e.session)return Object(c.l)(()=>{var e;e=We,se(),sessionStorage.setItem("stateBackupTimeout",window.setInterval(()=>{le(e)},15e3).toString())}),Object(c.k)(()=>{se()}),e.session.ActiveQuoridor?Object(c.d)($e,{get session(){return e.session.ActiveQuoridor}}):[]}),{get session(){return Qe()}}),(()=>{const e=Le.cloneNode(!0);return Object(o.c)(e,(()=>{const e=Object(o.d)(()=>{var e,t;return"|QCPU|"==(null===(e=Qe())||void 0===e||null===(t=e.ActiveQuoridor)||void 0===t?void 0:t.down_player)},!0);return()=>e()?[]:Object(c.d)(X,{get new_msg(){return M()}})})()),e})()]}const Ge=Object(o.h)('<div class="tetrominos"><div class="tetromino box1"></div><div class="tetromino box2"></div><div class="tetromino box3"></div><div class="tetromino box4"></div></div>',10);function Re(){return Ge.cloneNode(!0)}var Me=function(){return p(),function(e,t){const n=localStorage.getItem(ce);if(n&&(ee(),le(t),null!==e()))new Q("/game_events/<owner>".replace("<owner>",n),(e,n)=>{ie(e,n,t)})}(Qe,We),function(e){const t=localStorage.getItem("activeLobby");t&&(Ae(!0),ue(t,e))}(We),[Object(c.d)(c.c,{get children(){return[Object(c.d)(c.b,{get when(){return!b()},get children(){return[Object(c.d)(Re,{}),Object(c.d)(Je,{})]}}),Object(c.d)(c.b,{get when(){return Object(o.d)(()=>!!b(),!0)()&&!Qe()},get children(){return Object(c.d)(Be,{})}}),Object(c.d)(c.b,{get when(){return Object(o.d)(()=>!!b(),!0)()&&Qe()},get children(){return Object(c.d)(Te,{})}})]}}),Object(o.d)((()=>{const e=Object(o.d)(()=>!!j(),!0);return()=>e()?Object(c.d)(w,{}):[]})()),Object(o.d)((()=>{const e=Object(o.d)(()=>!!i(),!0);return()=>e()?Object(c.d)(a,{}):[]})())]};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(o.e)(Me,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}],[[3,1,2]]]);